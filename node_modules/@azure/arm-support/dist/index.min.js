"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),coreLro=require("@azure/core-lro");function _interopNamespace(i){var a;return i&&i.__esModule?i:(a=Object.create(null),i&&Object.keys(i).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(i,e),Object.defineProperty(a,e,t.get?t:{enumerable:!0,get:function(){return i[e]}}))}),a.default=i,Object.freeze(a))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,t){var i;"object"==typeof e&&null!==e&&t&&((i=null!=(i=pageMap.get(e))?i:{}).continuationToken=t,pageMap.set(e,i))}exports.KnownSeverityLevel=void 0,function(e){e.Minimal="minimal",e.Moderate="moderate",e.Critical="critical",e.Highestcriticalimpact="highestcriticalimpact"}(exports.KnownSeverityLevel||(exports.KnownSeverityLevel={})),exports.KnownPreferredContactMethod=void 0,function(e){e.Email="email",e.Phone="phone"}(exports.KnownPreferredContactMethod||(exports.KnownPreferredContactMethod={})),exports.KnownStatus=void 0,function(e){e.Open="open",e.Closed="closed"}(exports.KnownStatus||(exports.KnownStatus={})),exports.KnownCommunicationType=void 0,function(e){e.Web="web",e.Phone="phone"}(exports.KnownCommunicationType||(exports.KnownCommunicationType={})),exports.KnownCommunicationDirection=void 0,function(e){e.Inbound="inbound",e.Outbound="outbound"}(exports.KnownCommunicationDirection||(exports.KnownCommunicationDirection={}));const OperationsListResult={type:{name:"Composite",className:"OperationsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{description:{serializedName:"description",readOnly:!0,type:{name:"String"}},operation:{serializedName:"operation",readOnly:!0,type:{name:"String"}},provider:{serializedName:"provider",readOnly:!0,type:{name:"String"}},resource:{serializedName:"resource",readOnly:!0,type:{name:"String"}}}}},ExceptionResponse={type:{name:"Composite",className:"ExceptionResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ServiceError"}}}}},ServiceError={type:{name:"Composite",className:"ServiceError",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ServiceErrorDetail"}}}}}}},ServiceErrorDetail={type:{name:"Composite",className:"ServiceErrorDetail",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}}}}},ServicesListResult={type:{name:"Composite",className:"ServicesListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Service"}}}}}}},Service={type:{name:"Composite",className:"Service",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}},resourceTypes:{serializedName:"properties.resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},ProblemClassificationsListResult={type:{name:"Composite",className:"ProblemClassificationsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProblemClassification"}}}}}}},ProblemClassification={type:{name:"Composite",className:"ProblemClassification",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"properties.displayName",type:{name:"String"}}}}},CheckNameAvailabilityInput={type:{name:"Composite",className:"CheckNameAvailabilityInput",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"Enum",allowedValues:["Microsoft.Support/supportTickets","Microsoft.Support/communications"]}}}}},CheckNameAvailabilityOutput={type:{name:"Composite",className:"CheckNameAvailabilityOutput",modelProperties:{nameAvailable:{serializedName:"nameAvailable",readOnly:!0,type:{name:"Boolean"}},reason:{serializedName:"reason",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}}}}},SupportTicketsListResult={type:{name:"Composite",className:"SupportTicketsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"SupportTicketDetails"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},SupportTicketDetails={type:{name:"Composite",className:"SupportTicketDetails",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},supportTicketId:{serializedName:"properties.supportTicketId",type:{name:"String"}},description:{serializedName:"properties.description",type:{name:"String"}},problemClassificationId:{serializedName:"properties.problemClassificationId",type:{name:"String"}},problemClassificationDisplayName:{serializedName:"properties.problemClassificationDisplayName",readOnly:!0,type:{name:"String"}},severity:{serializedName:"properties.severity",type:{name:"String"}},enrollmentId:{serializedName:"properties.enrollmentId",readOnly:!0,type:{name:"String"}},require24X7Response:{serializedName:"properties.require24X7Response",type:{name:"Boolean"}},contactDetails:{serializedName:"properties.contactDetails",type:{name:"Composite",className:"ContactProfile"}},serviceLevelAgreement:{serializedName:"properties.serviceLevelAgreement",type:{name:"Composite",className:"ServiceLevelAgreement"}},supportEngineer:{serializedName:"properties.supportEngineer",type:{name:"Composite",className:"SupportEngineer"}},supportPlanType:{serializedName:"properties.supportPlanType",readOnly:!0,type:{name:"String"}},title:{serializedName:"properties.title",type:{name:"String"}},problemStartTime:{serializedName:"properties.problemStartTime",type:{name:"DateTime"}},serviceId:{serializedName:"properties.serviceId",type:{name:"String"}},serviceDisplayName:{serializedName:"properties.serviceDisplayName",readOnly:!0,type:{name:"String"}},status:{serializedName:"properties.status",readOnly:!0,type:{name:"String"}},createdDate:{serializedName:"properties.createdDate",readOnly:!0,type:{name:"DateTime"}},modifiedDate:{serializedName:"properties.modifiedDate",readOnly:!0,type:{name:"DateTime"}},technicalTicketDetails:{serializedName:"properties.technicalTicketDetails",type:{name:"Composite",className:"TechnicalTicketDetails"}},quotaTicketDetails:{serializedName:"properties.quotaTicketDetails",type:{name:"Composite",className:"QuotaTicketDetails"}}}}},ContactProfile={type:{name:"Composite",className:"ContactProfile",modelProperties:{firstName:{serializedName:"firstName",required:!0,type:{name:"String"}},lastName:{serializedName:"lastName",required:!0,type:{name:"String"}},preferredContactMethod:{serializedName:"preferredContactMethod",required:!0,type:{name:"String"}},primaryEmailAddress:{serializedName:"primaryEmailAddress",required:!0,type:{name:"String"}},additionalEmailAddresses:{serializedName:"additionalEmailAddresses",type:{name:"Sequence",element:{type:{name:"String"}}}},phoneNumber:{serializedName:"phoneNumber",type:{name:"String"}},preferredTimeZone:{serializedName:"preferredTimeZone",required:!0,type:{name:"String"}},country:{serializedName:"country",required:!0,type:{name:"String"}},preferredSupportLanguage:{serializedName:"preferredSupportLanguage",required:!0,type:{name:"String"}}}}},ServiceLevelAgreement={type:{name:"Composite",className:"ServiceLevelAgreement",modelProperties:{startTime:{serializedName:"startTime",readOnly:!0,type:{name:"DateTime"}},expirationTime:{serializedName:"expirationTime",readOnly:!0,type:{name:"DateTime"}},slaMinutes:{serializedName:"slaMinutes",readOnly:!0,type:{name:"Number"}}}}},SupportEngineer={type:{name:"Composite",className:"SupportEngineer",modelProperties:{emailAddress:{serializedName:"emailAddress",readOnly:!0,type:{name:"String"}}}}},TechnicalTicketDetails={type:{name:"Composite",className:"TechnicalTicketDetails",modelProperties:{resourceId:{serializedName:"resourceId",type:{name:"String"}}}}},QuotaTicketDetails={type:{name:"Composite",className:"QuotaTicketDetails",modelProperties:{quotaChangeRequestSubType:{serializedName:"quotaChangeRequestSubType",type:{name:"String"}},quotaChangeRequestVersion:{serializedName:"quotaChangeRequestVersion",type:{name:"String"}},quotaChangeRequests:{serializedName:"quotaChangeRequests",type:{name:"Sequence",element:{type:{name:"Composite",className:"QuotaChangeRequest"}}}}}}},QuotaChangeRequest={type:{name:"Composite",className:"QuotaChangeRequest",modelProperties:{region:{serializedName:"region",type:{name:"String"}},payload:{serializedName:"payload",type:{name:"String"}}}}},UpdateSupportTicket={type:{name:"Composite",className:"UpdateSupportTicket",modelProperties:{severity:{serializedName:"severity",type:{name:"String"}},status:{serializedName:"status",type:{name:"String"}},contactDetails:{serializedName:"contactDetails",type:{name:"Composite",className:"UpdateContactProfile"}}}}},UpdateContactProfile={type:{name:"Composite",className:"UpdateContactProfile",modelProperties:{firstName:{serializedName:"firstName",type:{name:"String"}},lastName:{serializedName:"lastName",type:{name:"String"}},preferredContactMethod:{serializedName:"preferredContactMethod",type:{name:"String"}},primaryEmailAddress:{serializedName:"primaryEmailAddress",type:{name:"String"}},additionalEmailAddresses:{serializedName:"additionalEmailAddresses",type:{name:"Sequence",element:{type:{name:"String"}}}},phoneNumber:{serializedName:"phoneNumber",type:{name:"String"}},preferredTimeZone:{serializedName:"preferredTimeZone",type:{name:"String"}},country:{serializedName:"country",type:{name:"String"}},preferredSupportLanguage:{serializedName:"preferredSupportLanguage",type:{name:"String"}}}}},CommunicationsListResult={type:{name:"Composite",className:"CommunicationsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CommunicationDetails"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},CommunicationDetails={type:{name:"Composite",className:"CommunicationDetails",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},communicationType:{serializedName:"properties.communicationType",readOnly:!0,type:{name:"String"}},communicationDirection:{serializedName:"properties.communicationDirection",readOnly:!0,type:{name:"String"}},sender:{serializedName:"properties.sender",type:{name:"String"}},subject:{serializedName:"properties.subject",type:{name:"String"}},body:{serializedName:"properties.body",type:{name:"String"}},createdDate:{serializedName:"properties.createdDate",readOnly:!0,type:{name:"DateTime"}}}}};var Mappers=Object.freeze({__proto__:null,OperationsListResult:OperationsListResult,Operation:Operation,OperationDisplay:OperationDisplay,ExceptionResponse:ExceptionResponse,ServiceError:ServiceError,ServiceErrorDetail:ServiceErrorDetail,ServicesListResult:ServicesListResult,Service:Service,ProblemClassificationsListResult:ProblemClassificationsListResult,ProblemClassification:ProblemClassification,CheckNameAvailabilityInput:CheckNameAvailabilityInput,CheckNameAvailabilityOutput:CheckNameAvailabilityOutput,SupportTicketsListResult:SupportTicketsListResult,SupportTicketDetails:SupportTicketDetails,ContactProfile:ContactProfile,ServiceLevelAgreement:ServiceLevelAgreement,SupportEngineer:SupportEngineer,TechnicalTicketDetails:TechnicalTicketDetails,QuotaTicketDetails:QuotaTicketDetails,QuotaChangeRequest:QuotaChangeRequest,UpdateSupportTicket:UpdateSupportTicket,UpdateContactProfile:UpdateContactProfile,CommunicationsListResult:CommunicationsListResult,CommunicationDetails:CommunicationDetails});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2020-04-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},serviceName={parameterPath:"serviceName",mapper:{serializedName:"serviceName",required:!0,type:{name:"String"}}},problemClassificationName={parameterPath:"problemClassificationName",mapper:{serializedName:"problemClassificationName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},checkNameAvailabilityInput={parameterPath:"checkNameAvailabilityInput",mapper:CheckNameAvailabilityInput},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},top={parameterPath:["options","top"],mapper:{serializedName:"$top",type:{name:"Number"}}},filter={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},supportTicketName={parameterPath:"supportTicketName",mapper:{serializedName:"supportTicketName",required:!0,type:{name:"String"}}},updateSupportTicket={parameterPath:"updateSupportTicket",mapper:UpdateSupportTicket},createSupportTicketParameters={parameterPath:"createSupportTicketParameters",mapper:SupportTicketDetails},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},communicationName={parameterPath:"communicationName",mapper:{serializedName:"communicationName",required:!0,type:{name:"String"}}},createCommunicationParameters={parameterPath:"createCommunicationParameters",mapper:CommunicationDetails};class OperationsImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(t,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(t));yield yield tslib.__await(e.value||[])})}listPagingAll(s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,a=tslib.__asyncValues(this.listPagingPage(s));!(i=yield tslib.__await(a.next())).done;){var r=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(r)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$4)}}const serializer$4=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$4={path:"/providers/Microsoft.Support/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationsListResult},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$4};class ServicesImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(t,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(t));yield yield tslib.__await(e.value||[])})}listPagingAll(s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,a=tslib.__asyncValues(this.listPagingPage(s));!(i=yield tslib.__await(a.next())).done;){var r=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(r)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$3)}get(e,t){return this.client.sendOperationRequest({serviceName:e,options:t},getOperationSpec$3)}}const serializer$3=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$3={path:"/providers/Microsoft.Support/services",httpMethod:"GET",responses:{200:{bodyMapper:ServicesListResult},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$3},getOperationSpec$3={path:"/providers/Microsoft.Support/services/{serviceName}",httpMethod:"GET",responses:{200:{bodyMapper:Service},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,serviceName],headerParameters:[accept],serializer:serializer$3};class ProblemClassificationsImpl{constructor(e){this.client=e}list(t,i){const e=this.listPagingAll(t,i);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,i,e)}}}listPagingPage(t,i,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(t,i));yield yield tslib.__await(e.value||[])})}listPagingAll(s,n){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,a=tslib.__asyncValues(this.listPagingPage(s,n));!(i=yield tslib.__await(a.next())).done;){var r=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(r)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(t)throw t.error}}})}_list(e,t){return this.client.sendOperationRequest({serviceName:e,options:t},listOperationSpec$2)}get(e,t,i){return this.client.sendOperationRequest({serviceName:e,problemClassificationName:t,options:i},getOperationSpec$2)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$2={path:"/providers/Microsoft.Support/services/{serviceName}/problemClassifications",httpMethod:"GET",responses:{200:{bodyMapper:ProblemClassificationsListResult},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,serviceName],headerParameters:[accept],serializer:serializer$2},getOperationSpec$2={path:"/providers/Microsoft.Support/services/{serviceName}/problemClassifications/{problemClassificationName}",httpMethod:"GET",responses:{200:{bodyMapper:ProblemClassification},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,serviceName,problemClassificationName],headerParameters:[accept],serializer:serializer$2};class LroImpl{constructor(e,t,i,a=i.path,r=i.httpMethod){this.sendOperationFn=e,this.args=t,this.spec=i,this.requestPath=a,this.requestMethod=r}sendInitialRequest(){return tslib.__awaiter(this,void 0,void 0,function*(){return this.sendOperationFn(this.args,this.spec)})}sendPollRequest(t){return tslib.__awaiter(this,void 0,void 0,function*(){var e=this.spec,e=tslib.__rest(e,["requestBody"]);return this.sendOperationFn(this.args,Object.assign(Object.assign({},e),{path:t,httpMethod:"GET"}))})}}class SupportTicketsImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(r,s){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==s?void 0:s.continuationToken;var i;for(t||(setContinuationToken(i=(e=yield tslib.__await(this._list(r))).value||[],t=e.nextLink),yield yield tslib.__await(i));t;){e=yield tslib.__await(this._listNext(t,r)),t=e.nextLink;var a=e.value||[];setContinuationToken(a,t),yield yield tslib.__await(a)}})}listPagingAll(s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,a=tslib.__asyncValues(this.listPagingPage(s));!(i=yield tslib.__await(a.next())).done;){var r=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(r)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(t)throw t.error}}})}checkNameAvailability(e,t){return this.client.sendOperationRequest({checkNameAvailabilityInput:e,options:t},checkNameAvailabilityOperationSpec$1)}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}get(e,t){return this.client.sendOperationRequest({supportTicketName:e,options:t},getOperationSpec$1)}update(e,t,i){return this.client.sendOperationRequest({supportTicketName:e,updateSupportTicket:t,options:i},updateOperationSpec)}beginCreate(t,i,a){return tslib.__awaiter(this,void 0,void 0,function*(){const s=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,r)=>tslib.__awaiter(this,void 0,void 0,function*(){let i=void 0;const a=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{i=e,null!==a&&void 0!==a&&a(e,t)}})});return{flatResponse:yield s(e,r),rawResponse:{statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()}}}),{supportTicketName:t,createSupportTicketParameters:i,options:a},createOperationSpec$1),e=new coreLro.LroEngine(e,{resumeFrom:null==a?void 0:a.resumeFrom,intervalInMs:null==a?void 0:a.updateIntervalInMs,lroResourceLocationConfig:"azure-async-operation"});return yield e.poll(),e})}beginCreateAndWait(e,t,i){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginCreate(e,t,i)).pollUntilDone()})}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec$1)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),checkNameAvailabilityOperationSpec$1={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/checkNameAvailability",httpMethod:"POST",responses:{200:{bodyMapper:CheckNameAvailabilityOutput},default:{bodyMapper:ExceptionResponse}},requestBody:checkNameAvailabilityInput,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$1},listOperationSpec$1={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets",httpMethod:"GET",responses:{200:{bodyMapper:SupportTicketsListResult},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion,top,filter],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer$1},getOperationSpec$1={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}",httpMethod:"GET",responses:{200:{bodyMapper:SupportTicketDetails},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName],headerParameters:[accept],serializer:serializer$1},updateOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}",httpMethod:"PATCH",responses:{200:{bodyMapper:SupportTicketDetails},default:{bodyMapper:ExceptionResponse}},requestBody:updateSupportTicket,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$1},createOperationSpec$1={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}",httpMethod:"PUT",responses:{200:{bodyMapper:SupportTicketDetails},201:{bodyMapper:SupportTicketDetails},202:{bodyMapper:SupportTicketDetails},204:{bodyMapper:SupportTicketDetails},default:{bodyMapper:ExceptionResponse}},requestBody:createSupportTicketParameters,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$1},listNextOperationSpec$1={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:SupportTicketsListResult},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,subscriptionId,nextLink],headerParameters:[accept],serializer:serializer$1};class CommunicationsImpl{constructor(e){this.client=e}list(t,i){const e=this.listPagingAll(t,i);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,i,e)}}}listPagingPage(r,s,n){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==n?void 0:n.continuationToken;var i;for(t||(setContinuationToken(i=(e=yield tslib.__await(this._list(r,s))).value||[],t=e.nextLink),yield yield tslib.__await(i));t;){e=yield tslib.__await(this._listNext(r,t,s)),t=e.nextLink;var a=e.value||[];setContinuationToken(a,t),yield yield tslib.__await(a)}})}listPagingAll(s,n){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,a=tslib.__asyncValues(this.listPagingPage(s,n));!(i=yield tslib.__await(a.next())).done;){var r=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(r)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(t)throw t.error}}})}checkNameAvailability(e,t,i){return this.client.sendOperationRequest({supportTicketName:e,checkNameAvailabilityInput:t,options:i},checkNameAvailabilityOperationSpec)}_list(e,t){return this.client.sendOperationRequest({supportTicketName:e,options:t},listOperationSpec)}get(e,t,i){return this.client.sendOperationRequest({supportTicketName:e,communicationName:t,options:i},getOperationSpec)}beginCreate(t,i,a,r){return tslib.__awaiter(this,void 0,void 0,function*(){const s=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,r)=>tslib.__awaiter(this,void 0,void 0,function*(){let i=void 0;const a=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{i=e,null!==a&&void 0!==a&&a(e,t)}})});return{flatResponse:yield s(e,r),rawResponse:{statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()}}}),{supportTicketName:t,communicationName:i,createCommunicationParameters:a,options:r},createOperationSpec),e=new coreLro.LroEngine(e,{resumeFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs,lroResourceLocationConfig:"azure-async-operation"});return yield e.poll(),e})}beginCreateAndWait(e,t,i,a){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginCreate(e,t,i,a)).pollUntilDone()})}_listNext(e,t,i){return this.client.sendOperationRequest({supportTicketName:e,nextLink:t,options:i},listNextOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),checkNameAvailabilityOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}/checkNameAvailability",httpMethod:"POST",responses:{200:{bodyMapper:CheckNameAvailabilityOutput},default:{bodyMapper:ExceptionResponse}},requestBody:checkNameAvailabilityInput,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},listOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}/communications",httpMethod:"GET",responses:{200:{bodyMapper:CommunicationsListResult},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion,top,filter],urlParameters:[$host,subscriptionId,supportTicketName],headerParameters:[accept],serializer:serializer},getOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}/communications/{communicationName}",httpMethod:"GET",responses:{200:{bodyMapper:CommunicationDetails},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName,communicationName],headerParameters:[accept],serializer:serializer},createOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Support/supportTickets/{supportTicketName}/communications/{communicationName}",httpMethod:"PUT",responses:{200:{bodyMapper:CommunicationDetails},201:{bodyMapper:CommunicationDetails},202:{bodyMapper:CommunicationDetails},204:{bodyMapper:CommunicationDetails},default:{bodyMapper:ExceptionResponse}},requestBody:createCommunicationParameters,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,supportTicketName,communicationName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:CommunicationsListResult},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,subscriptionId,supportTicketName,nextLink],headerParameters:[accept],serializer:serializer};class MicrosoftSupport extends coreClient__namespace.ServiceClient{constructor(e,t,i){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var a,r="azsdk-js-arm-support/2.1.0",r=(i=i||{}).userAgentOptions&&i.userAgentOptions.userAgentPrefix?i.userAgentOptions.userAgentPrefix+" "+r:r,r=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),i),{userAgentOptions:{userAgentPrefix:r},endpoint:null!=(r=null!=(r=i.endpoint)?r:i.baseUri)?r:"https://management.azure.com"});super(r);let s=!1;null!=i&&i.pipeline&&0<i.pipeline.getOrderedPolicies().length&&(a=i.pipeline.getOrderedPolicies(),s=a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),i&&i.pipeline&&0!=i.pipeline.getOrderedPolicies().length&&s||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(a=r.credentialScopes)?a:r.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.subscriptionId=t,this.$host=i.$host||"https://management.azure.com",this.apiVersion=i.apiVersion||"2020-04-01",this.operations=new OperationsImpl(this),this.services=new ServicesImpl(this),this.problemClassifications=new ProblemClassificationsImpl(this),this.supportTickets=new SupportTicketsImpl(this),this.communications=new CommunicationsImpl(this),this.addCustomApiVersionPolicy(i.apiVersion)}addCustomApiVersionPolicy(r){r&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(i,a){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=i.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+r:e),i.url=t[0]+"?"+e.join("&")),a(i)})}})}}exports.MicrosoftSupport=MicrosoftSupport,exports.getContinuationToken=getContinuationToken;